{"ast":null,"code":"import React,{useState,useEffect}from'react';import{fetchCompanies}from'../../utils/api';import CompanyGrid from'./CompanyGrid';import CommunicationModal from'./CommunicationModal';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{const[companies,setCompanies]=useState([]);const[selectedCompany,setSelectedCompany]=useState(null);const[isModalOpen,setIsModalOpen]=useState(false);// Fetch all companies\nuseEffect(()=>{const getCompanies=async()=>{const data=await fetchCompanies();setCompanies(data);if(data.length>0)setSelectedCompany(data[0]);// Set the first company as default\n};getCompanies();},[]);// Open the modal for logging communication\nconst handleOpenModal=()=>{setIsModalOpen(true);};// Close the modal\nconst handleCloseModal=()=>{setIsModalOpen(false);};// Update the selected company when a company is clicked\nconst handleCompanyClick=companyId=>{const company=companies.find(c=>c._id===companyId);setSelectedCompany(company);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-b from-[#121212] to-black text-[#B3B3B3] min-h-screen flex flex-col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-8 text-center text-gray-200\",children:\"User Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"company-details bg-darkGray p-6 rounded-lg shadow-lg mb-8 max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-semibold mb-6 text-gray-200\",children:\"Company Details\"}),selectedCompany?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4 text-lg text-gray-400\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Company:\"}),\" \",selectedCompany.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4 text-lg text-gray-400\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"City:\"}),\" \",selectedCompany.location]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4 text-lg text-gray-400\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" \",selectedCompany.phoneNumbers.join(', ')]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4 text-lg text-gray-400\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",selectedCompany.emails.join(', ')]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4 text-lg text-gray-400\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"LinkedIn Profile:\"}),' ',selectedCompany.linkedinProfile]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-spotifyGreen text-white px-6 py-2 rounded-full mt-4 hover:bg-spotifyDarkGreen transition duration-300\",onClick:handleOpenModal,children:\"Log Communication\"})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-400\",children:\"No company selected.\"})]}),/*#__PURE__*/_jsx(CompanyGrid,{companies:companies,onClickCompany:handleCompanyClick}),isModalOpen&&/*#__PURE__*/_jsx(CommunicationModal,{isOpen:isModalOpen,onRequestClose:handleCloseModal,company:selectedCompany})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","fetchCompanies","CompanyGrid","CommunicationModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","companies","setCompanies","selectedCompany","setSelectedCompany","isModalOpen","setIsModalOpen","getCompanies","data","length","handleOpenModal","handleCloseModal","handleCompanyClick","companyId","company","find","c","_id","className","children","name","location","phoneNumbers","join","emails","linkedinProfile","onClick","onClickCompany","isOpen","onRequestClose"],"sources":["C:/Users/Subha/Desktop/recCal/calendar-app/frontend/src/components/User/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { fetchCompanies } from '../../utils/api';\nimport CompanyGrid from './CompanyGrid';\nimport CommunicationModal from './CommunicationModal';\n\nconst Dashboard = () => {\n  const [companies, setCompanies] = useState([]);\n  const [selectedCompany, setSelectedCompany] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  // Fetch all companies\n  useEffect(() => {\n    const getCompanies = async () => {\n      const data = await fetchCompanies();\n      setCompanies(data);\n      if (data.length > 0) setSelectedCompany(data[0]); // Set the first company as default\n    };\n    getCompanies();\n  }, []);\n\n  // Open the modal for logging communication\n  const handleOpenModal = () => {\n    setIsModalOpen(true);\n  };\n\n  // Close the modal\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n  };\n\n  // Update the selected company when a company is clicked\n  const handleCompanyClick = (companyId) => {\n    const company = companies.find((c) => c._id === companyId);\n    setSelectedCompany(company);\n  };\n\n  return (\n    <div className=\"bg-gradient-to-b from-[#121212] to-black text-[#B3B3B3] min-h-screen flex flex-col\">\n      <h1 className=\"text-4xl font-bold mb-8 text-center text-gray-200\">\n        User Dashboard\n      </h1>\n\n      {/* Main Company Details */}\n      <div className=\"company-details bg-darkGray p-6 rounded-lg shadow-lg mb-8 max-w-4xl mx-auto\">\n        <h2 className=\"text-3xl font-semibold mb-6 text-gray-200\">\n          Company Details\n        </h2>\n        {selectedCompany ? (\n          <>\n            <p className=\"mb-4 text-lg text-gray-400\">\n              <strong>Company:</strong> {selectedCompany.name}\n            </p>\n            <p className=\"mb-4 text-lg text-gray-400\">\n              <strong>City:</strong> {selectedCompany.location}\n            </p>\n            <p className=\"mb-4 text-lg text-gray-400\">\n              <strong>Phone:</strong> {selectedCompany.phoneNumbers.join(', ')}\n            </p>\n            <p className=\"mb-4 text-lg text-gray-400\">\n              <strong>Email:</strong> {selectedCompany.emails.join(', ')}\n            </p>\n            <p className=\"mb-4 text-lg text-gray-400\">\n              <strong>LinkedIn Profile:</strong>{' '}\n              {selectedCompany.linkedinProfile}\n            </p>\n            <button\n              className=\"bg-spotifyGreen text-white px-6 py-2 rounded-full mt-4 hover:bg-spotifyDarkGreen transition duration-300\"\n              onClick={handleOpenModal}\n            >\n              Log Communication\n            </button>\n          </>\n        ) : (\n          <p className=\"text-lg text-gray-400\">No company selected.</p>\n        )}\n      </div>\n\n      {/* Company Grid */}\n      <CompanyGrid companies={companies} onClickCompany={handleCompanyClick} />\n\n      {/* Communication Modal */}\n      {isModalOpen && (\n        <CommunicationModal\n          isOpen={isModalOpen}\n          onRequestClose={handleCloseModal}\n          company={selectedCompany}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,cAAc,KAAQ,iBAAiB,CAChD,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,kBAAkB,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtD,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACc,eAAe,CAAEC,kBAAkB,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACgB,WAAW,CAAEC,cAAc,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAErD;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAjB,cAAc,CAAC,CAAC,CACnCW,YAAY,CAACM,IAAI,CAAC,CAClB,GAAIA,IAAI,CAACC,MAAM,CAAG,CAAC,CAAEL,kBAAkB,CAACI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAE;AACpD,CAAC,CACDD,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAG,eAAe,CAAGA,CAAA,GAAM,CAC5BJ,cAAc,CAAC,IAAI,CAAC,CACtB,CAAC,CAED;AACA,KAAM,CAAAK,gBAAgB,CAAGA,CAAA,GAAM,CAC7BL,cAAc,CAAC,KAAK,CAAC,CACvB,CAAC,CAED;AACA,KAAM,CAAAM,kBAAkB,CAAIC,SAAS,EAAK,CACxC,KAAM,CAAAC,OAAO,CAAGb,SAAS,CAACc,IAAI,CAAEC,CAAC,EAAKA,CAAC,CAACC,GAAG,GAAKJ,SAAS,CAAC,CAC1DT,kBAAkB,CAACU,OAAO,CAAC,CAC7B,CAAC,CAED,mBACEjB,KAAA,QAAKqB,SAAS,CAAC,oFAAoF,CAAAC,QAAA,eACjGxB,IAAA,OAAIuB,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,gBAElE,CAAI,CAAC,cAGLtB,KAAA,QAAKqB,SAAS,CAAC,6EAA6E,CAAAC,QAAA,eAC1FxB,IAAA,OAAIuB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CAAC,iBAE1D,CAAI,CAAC,CACJhB,eAAe,cACdN,KAAA,CAAAE,SAAA,EAAAoB,QAAA,eACEtB,KAAA,MAAGqB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACvCxB,IAAA,WAAAwB,QAAA,CAAQ,UAAQ,CAAQ,CAAC,IAAC,CAAChB,eAAe,CAACiB,IAAI,EAC9C,CAAC,cACJvB,KAAA,MAAGqB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACvCxB,IAAA,WAAAwB,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAAChB,eAAe,CAACkB,QAAQ,EAC/C,CAAC,cACJxB,KAAA,MAAGqB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACvCxB,IAAA,WAAAwB,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAAChB,eAAe,CAACmB,YAAY,CAACC,IAAI,CAAC,IAAI,CAAC,EAC/D,CAAC,cACJ1B,KAAA,MAAGqB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACvCxB,IAAA,WAAAwB,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAAChB,eAAe,CAACqB,MAAM,CAACD,IAAI,CAAC,IAAI,CAAC,EACzD,CAAC,cACJ1B,KAAA,MAAGqB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACvCxB,IAAA,WAAAwB,QAAA,CAAQ,mBAAiB,CAAQ,CAAC,CAAC,GAAG,CACrChB,eAAe,CAACsB,eAAe,EAC/B,CAAC,cACJ9B,IAAA,WACEuB,SAAS,CAAC,0GAA0G,CACpHQ,OAAO,CAAEhB,eAAgB,CAAAS,QAAA,CAC1B,mBAED,CAAQ,CAAC,EACT,CAAC,cAEHxB,IAAA,MAAGuB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,sBAAoB,CAAG,CAC7D,EACE,CAAC,cAGNxB,IAAA,CAACH,WAAW,EAACS,SAAS,CAAEA,SAAU,CAAC0B,cAAc,CAAEf,kBAAmB,CAAE,CAAC,CAGxEP,WAAW,eACVV,IAAA,CAACF,kBAAkB,EACjBmC,MAAM,CAAEvB,WAAY,CACpBwB,cAAc,CAAElB,gBAAiB,CACjCG,OAAO,CAAEX,eAAgB,CAC1B,CACF,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}